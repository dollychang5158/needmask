(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"3I2C":function(e){e.exports=JSON.parse('{"data":{"ringRead":{"id":"3a46bdf9-0b9f-5342-b133-7aff2f6c74d1","childImageSharp":{"id":"62c02e54-8435-56a4-887a-211866f7da57","fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD60lEQVQ4y01VW0hUURQdKYUIoXCCNIiifiJwPvIn/NBRQXwLgR8ZZVgYIvhhGmSKlpCCfphkIkqZNYKIH+Kjd5RICRqKPUxEfL/G9+jozDhnt9bt3sGBwzn3nL3XWXvvtc+YEhISTMnJySb+EhMTD5n0X1JS0vmUlJSC1NTUD5jtGE6M3/iug33SAbtD8DP8TT4wHBzmHBcXdwyOTdjvjYiIuGs2my3YPorB8xCLxZIaHx/fDJs++FyhT0ZGBsH8TAdu0cDA9jIMf0ZGRt7it4iEuFyuLLvd/mx5eblpY2PjEfYidbdgXPoRvnUGDvz9fGHqYL+wPAmnI7Ozs11LS0uys7Mj29vb4nA4fPP09LR9d3f3qh5mDYCbuYb/f5YI4Tjzw1sBdnFqamqfznNzc14AuwHgwdqDtTbAVgAoMzMzL3TQZjC97wsZNzy3Wq23ARYAMM/KyorA0QUHBSBZX19XCwsLCowV9nm2j32X2+0W7D/W2f0A8DmtmgD8yk2GyZBoTBaLi4sEVG1tbZKWlia1tbWytbWlwFj0y7yrq6vgIafDw8NvAvQpke+hmgUsAEH0MFV1dbUaHBxU+fn5UlpaKo2NjZKZmSk2m01jjMvI1M3UgPlz8PEH1mcCvg8KCrLs7e3dIbu1tTV3R0eHlJSUqJqaGuHAGZnJ+Pi4ZGdnS39/vwwMDKj5+XkvSYDtLAixFi0EXKXOKI3NzU3B8FRVVan29naNGViSgUxMTPBMKisrpb6+XgoLCxXDBiirrgB4PCYmpoKAOxQtnJoMwPLyctXQ0EAnGRsbY2h0ErIpKiqSzs5O7WxyclID5MDPHBUVVUbAPwA8BdE+ZMhw8vT29iqyQx6FlSRDghGcQK2trVJcXKyQHq/O0EHtxsbGPjWxN0NDQ1OwYSUgdUbZ5OTkqNzcXGlpaZG+vj4NbGRkRGNIsJ6eHgLus8oo5De9495Sg4lI5ktu4KYlPcn7w8PD0t3drcgIoUhWVpbk5eVJenq6YkHImlqlwNGeGYGBgRdArsuki5I3BOPwGitKHVKDSANDVUzB6OioDA0NaWvmlDY8RyP81Vv3FcilG4/DFXy84xrsmjweD2/3grGbM1JgdArXWpdAiwRjdc1hYWFRmgaN90xvvzrc8oRrOJcxjxQtU6C3G9tMmDOn00mwcYCd8Pf3DwHYKHzPGIC+N5GvBvrxtf50nWEHULTUGauJtQPsviNn12kDZlaqBD6XDpLjwu/A2/gARoPozRv4DGAHULQMjdKgDQsARjbYfTKYAfSwj6EBary6mM+y0TG+QAG26OjoClT6EXRWC7s3qGYnorlmkDDeVP4F/AOvVYNyKFBvvAAAAABJRU5ErkJggg==","aspectRatio":1,"src":"/needmask/static/e415d36b80db97cf025f515f60d6a43b/ea08a/ring-read.png","srcSet":"/needmask/static/e415d36b80db97cf025f515f60d6a43b/ffdce/ring-read.png 19w,\\n/needmask/static/e415d36b80db97cf025f515f60d6a43b/94657/ring-read.png 38w,\\n/needmask/static/e415d36b80db97cf025f515f60d6a43b/ea08a/ring-read.png 76w","sizes":"(max-width: 76px) 100vw, 76px"}}},"ring":{"id":"75d92556-11f2-500f-83f2-fa49e843248b","childImageSharp":{"id":"5e505338-a428-5626-b480-0eb11de00a39","fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEMUlEQVQ4y01Vf0yVVRh+Py4wEWu40RSooGVrkMsmssFSkUs65ftxwZubhVE2HTlzzlRajnQTimH9pYW3LcPbLWv6R8uFFaAMrsC9/soKBLfWH9aycm0tp+3+Om/Pe+79bt7t3O/c75z3Oc/zvO97LpmmSY7jkHwsy/JQ5mPb1qJmn9mBMexzzFsYdzG/1uxrCmBu/7/P9iDOjacsGBZy5bmuyS5CQNDnWOHlXv+euRXblhANFRIx1g+UVtW0Nq9rckIAH8ehfol5ua1FwAy65xQNZppWHcCmVjb6t8hvZirlKWrnC3SUoxTky9TFN2mVDvJ0ljiOdRagARcHao2sTAHDqdM0542FACpQ52mAowbzj8D9AeN792lwYsy4hffP6zjLPuLYVkjmPp+TZgmZ88HsGt3fUcJ36Yn4qJHUAOOUAnA8GTYSmCcw1wNsGcw5Gabjae/sEJjuy0oGWH994/qtYJYfH0PwReLUeYphKAAxpCqexIiQAiBjJPE+xjNYm6SeDMYVqH1UZxNejMlLLTPNLKZZRDSgGg48yBufXcuhnseZr5ICY84cluJLsIXp4dr6DZth2fuEr9dXeP0dOgHiWVqm+vBglfrldKHq3FHLhzqW8ql3F3F7WwOfOVKeZhzRTOPa1wj1I4V5wBoRwKGC8m1L4MkrYjhfonj4WAn37l2q+rsrWYb4BWZ851wu79yygn/+4j6+8eU8xRNgCCWpMP0KQtRk2p+J9r+IBgt1aVwF4HeUOHpgsRr5oIzfAbMbp+cJA/53xCNr3Ld/MX9+6DHu2lWjtOwJSY6hADjfu6alVwDvSNEiKOgCHu58Up2ExO7Xavif4TyRJkEsbN7avYwnPloogBwbzUknbUL7WLzqmfXdInmGaH8ZfDmoJUcpMXOySIlvx7qqmKe1Rxrs9tk8DTTY9xD37KlWsCeVZki3pXbXrPXppAQql7X6+DdqEMCU1NkF4l1bl6u97U/zmffK+fqpIs30z6/naIZv765W0eACAUxiSCInM/3/rUi20Jsfywt0wB8Zk5O/DxRwpH+BEkaQwts31/O+7XX8wsbVSickneWYTtg0vZRTuqMS5AZ0YWOCE94sQTtt0hKlDqUGr2ipahYW/D2UzzcH5uq5eKr3YB2NcD3duvYnqOdW96ryox8HZQ4/gjyrT08hEXF5wgK3U2SezIKN6uwWP1X3nBdKR7L3mTwBGMAph/UtM0ndfNFIXwZRDa4H3rP2bEqD/QSwB6h4ZynAZhFb4QKSz2rUc1AOoR8/zVxdFdIBUrS6zlAaOpvjFIEtbbIHzBoANmNZTnVGqccFNe65qTux6XLtyg0vAjZfOkCKVqRJacienLJXK8HoBPadM02nInNb52YZuqCWZRqZxUek0REwinY64V3d0otMd6HO+nDgN1j7ChZtckm4d6r8BfwHr2zU9D9lsikAAAAASUVORK5CYII=","aspectRatio":1,"src":"/needmask/static/bd5a6d974437e52453c73364a1114d3c/ea08a/ring.png","srcSet":"/needmask/static/bd5a6d974437e52453c73364a1114d3c/ffdce/ring.png 19w,\\n/needmask/static/bd5a6d974437e52453c73364a1114d3c/94657/ring.png 38w,\\n/needmask/static/bd5a6d974437e52453c73364a1114d3c/ea08a/ring.png 76w","sizes":"(max-width: 76px) 100vw, 76px"}}}}}')},"3Sck":function(e,t,a){var n=a("q1tI");function r(e){return n.createElement("svg",e,n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 28.6667C10 28.6667 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 10 28.6667 10 28.6667ZM10 14.6667C12.5773 14.6667 14.6667 12.5773 14.6667 10C14.6667 7.42267 12.5773 5.33333 10 5.33333C7.42267 5.33333 5.33333 7.42267 5.33333 10C5.33333 12.5773 7.42267 14.6667 10 14.6667Z",fill:"#EB5757"}))}r.defaultProps={width:"20",height:"29",viewBox:"0 0 20 29",fill:"none"},e.exports=r,r.default=r},RXBc:function(e,t,a){"use strict";a.r(t);a("HEwt"),a("a1Th"),a("rE2o"),a("ioFf"),a("RW0V"),a("rGqo"),a("yt8O"),a("Btvt"),a("XfO3"),a("T39b");var n=a("q1tI"),r=a.n(n),c=(a("f3/d"),a("3Sck")),l=a.n(c),s=Object(n.memo)((function(e){var t=e.coordinates,a=e.properties;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"item",href:t&&t.length>1?"https://www.google.com/maps/?q="+t[1]+","+t[0]:"",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"row item-content"},r.a.createElement("div",{className:"col col-lg-5 col-12"},r.a.createElement("h3",{className:"col-sm font-weight-bold title"},a.name),r.a.createElement("p",{className:"desc"},a.address),r.a.createElement("p",{className:"desc"},a.phone)),r.a.createElement("div",{className:"container detail col-lg-7 col-12"},r.a.createElement("div",{className:"col-lg-5 col-5 number adult"},r.a.createElement("p",null,r.a.createElement("span",null,"成人"),a.mask_adult)),r.a.createElement("div",{className:"col-lg-5 col-5 number child"},r.a.createElement("p",null,r.a.createElement("span",null,"兒童"),a.mask_child)),r.a.createElement("div",{className:"col-lg-2 col-2 map"},r.a.createElement(l.a,null))))),r.a.createElement("span",{className:"item-bottom-space"}))})),o=function(){return r.a.createElement("div",{className:"row item-title"},r.a.createElement("div",{className:"col-lg-5 col-12"},r.a.createElement("p",{className:"title"},"醫事機構資訊")),r.a.createElement("div",{className:"col-lg-3 col-5"},r.a.createElement("p",{className:"title"},"成人口罩剩餘數量")),r.a.createElement("div",{className:"col-lg-3 col-5"},r.a.createElement("p",{className:"title"},"兒童口罩剩餘數量")),r.a.createElement("div",{className:"col-lg-1 col-2"},r.a.createElement("p",{className:"title"},"地圖")))},i={"台北市":["中正區","大同區","中山區","萬華區","信義區","松山區","大安區","南港區","北投區","內湖區","士林區","文山區"],"新北市":["板橋區","新莊區","泰山區","林口區","淡水區","金山區","八里區","萬里區","石門區","三芝區","瑞芳區","汐止區","平溪區","貢寮區","雙溪區","深坑區","石碇區","新店區","坪林區","烏來區","中和區","永和區","土城區","三峽區","樹林區","鶯歌區","三重區","蘆洲區","五股區"],"基隆市":["仁愛區","中正區","信義區","中山區","安樂區","暖暖區","七堵區"],"桃園市":["桃園區","中壢區","平鎮區","八德區","楊梅區","蘆竹區","龜山區","龍潭區","大溪區","大園區","觀音區","新屋區","復興區"],"新竹縣":["竹北市","竹東鎮","新埔鎮","關西鎮","峨眉鄉","寶山鄉","北埔鄉","橫山鄉","芎林鄉","湖口鄉","新豐鄉","尖石鄉","五峰鄉"],"新竹市":["東區","北區","香山區"],"苗栗縣":["苗栗市","通霄鎮","苑裡鎮","竹南鎮","頭份鎮","後龍鎮","卓蘭鎮","西湖鄉","頭屋鄉","公館鄉","銅鑼鄉","三義鄉","造橋鄉","三灣鄉","南庄鄉","大湖鄉","獅潭鄉","泰安鄉"],"台中市":["中區","東區","南區","西區","北區","北屯區","西屯區","南屯區","太平區","大里區","霧峰區","烏日區","豐原區","后里區","東勢區","石岡區","新社區","和平區","神岡區","潭子區","大雅區","大肚區","龍井區","沙鹿區","梧棲區","清水區","大甲區","外埔區","大安區"],"南投縣":["南投市","埔里鎮","草屯鎮","竹山鎮","集集鎮","名間鄉","鹿谷鄉","中寮鄉","魚池鄉","國姓鄉","水里鄉","信義鄉","仁愛鄉"],"彰化縣":["彰化市","員林鎮","和美鎮","鹿港鎮","溪湖鎮","二林鎮","田中鎮","北斗鎮","花壇鄉","芬園鄉","大村鄉","永靖鄉","伸港鄉","線西鄉","福興鄉","秀水鄉","埔心鄉","埔鹽鄉","大城鄉","芳苑鄉","竹塘鄉","社頭鄉","二水鄉","田尾鄉","埤頭鄉","溪州鄉"],"雲林縣":["斗六市","斗南鎮","虎尾鎮","西螺鎮","土庫鎮","北港鎮","莿桐鄉","林內鄉","古坑鄉","大埤鄉","崙背鄉","二崙鄉","麥寮鄉","台西鄉","東勢鄉","褒忠鄉","四湖鄉","口湖鄉","水林鄉","元長鄉"],"嘉義縣":["太保市","朴子市","布袋鎮","大林鎮","民雄鄉","溪口鄉","新港鄉","六腳鄉","東石鄉","義竹鄉","鹿草鄉","水上鄉","中埔鄉","竹崎鄉","梅山鄉","番路鄉","大埔鄉","阿里山鄉"],"嘉義市":["東區","西區"],"台南市":["中西區","東區","南區","北區","安平區","安南區","永康區","歸仁區","新化區","左鎮區","玉井區","楠西區","南化區","仁德區","關廟區","龍崎區","官田區","麻豆區","佳里區","西港區","七股區","將軍區","學甲區","北門區","新營區","後壁區","白河區","東山區","六甲區","下營區","柳營區","鹽水區","善化區","大內區","山上區","新市區","安定區"],"高雄市":["楠梓區","左營區","鼓山區","三民區","鹽埕區","前金區","新興區","苓雅區","前鎮區","小港區","旗津區","鳳山區","大寮區","鳥松區","林園區","仁武區","大樹區","大社區","岡山區","路竹區","橋頭區","梓官區","彌陀區","永安區","燕巢區","田寮區","阿蓮區","茄萣區","湖內區","旗山區","美濃區","內門區","杉林區","甲仙區","六龜區","茂林區","桃源區","那瑪夏區"],"屏東縣":["屏東市","潮州鎮","東港鎮","恆春鎮","萬丹鄉","長治鄉","麟洛鄉","九如鄉","里港鄉","鹽埔鄉","高樹鄉","萬巒鄉","內埔鄉","竹田鄉","新埤鄉","枋寮鄉","新園鄉","崁頂鄉","林邊鄉","南州鄉","佳冬鄉","琉球鄉","車城鄉","滿州鄉","枋山鄉","霧台鄉","瑪家鄉","泰武鄉","來義鄉","春日鄉","獅子鄉","牡丹鄉","三地門鄉"],"宜蘭縣":["宜蘭市","羅東鎮","蘇澳鎮","頭城鎮","礁溪鄉","壯圍鄉","員山鄉","冬山鄉","五結鄉","三星鄉","大同鄉","南澳鄉"],"花蓮縣":["花蓮市","鳳林鎮","玉里鎮","新城鄉","吉安鄉","壽豐鄉","秀林鄉","光復鄉","豐濱鄉","瑞穗鄉","萬榮鄉","富里鄉","卓溪鄉"],"台東縣":["台東市","成功鎮","關山鎮","長濱鄉","海端鄉","池上鄉","東河鄉","鹿野鄉","延平鄉","卑南鄉","金峰鄉","大武鄉","達仁鄉","綠島鄉","蘭嶼鄉","太麻里鄉"],"澎湖縣":["馬公市","湖西鄉","白沙鄉","西嶼鄉","望安鄉","七美鄉"],"金門縣":["金城鎮","金湖鎮","金沙鎮","金寧鄉","烈嶼鄉","烏坵鄉"],"連江縣":["南竿鄉","北竿鄉","莒光鄉","東引鄉"]},m=Object(n.memo)((function(e){var t=e.placeHolder,a=e.current,n=e.values,c=e.onChange;e.sm;return r.a.createElement("select",{value:a,className:"custom-select custom-select-lg",onChange:function(e){c(e.target.value)}},t&&r.a.createElement("option",{value:"",disabled:!0,hidden:!0}),n.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))})),d=a("Bl7J"),u=a("vrFN"),p=(a("Vd3H"),["總數","成人","兒童"]),f=function(e,t,a){return e.filter((function(e){return-1!==e.properties.address.indexOf(t)})).sort(A(a))},A=function(e){return function(t,a){return"成人"===e?t.properties.mask_adult>a.properties.mask_adult?-1:1:"兒童"===e?t.properties.mask_child>a.properties.mask_child?-1:1:"總數"===e?t.properties.mask_adult+t.properties.mask_child>a.properties.mask_adult+a.properties.mask_child?-1:1:void 0}};var g=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).isBottom=function(e){return e.getBoundingClientRect().bottom<=window.innerHeight+50},a.handleLoadMore=function(){a.props.maxItem<a.props.data.length&&a.props.onChange(a.props.maxItem+a.props.step)},a.trackScrolling=function(){var e=document.body;a.isBottom(e)&&a.handleLoadMore()},a.renderItem=a.renderItem.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a)),a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var c=n.prototype;return c.componentDidMount=function(){document.addEventListener("scroll",this.trackScrolling)},c.componentWillUnmount=function(){document.removeEventListener("scroll",this.trackScrolling)},c.renderItem=function(){for(var e=[],t=0;t<this.props.data.length&&t<this.props.maxItem;t++)e.push(this.props.renderItem(this.props.data[t],t));return e},c.render=function(){return r.a.createElement(r.a.Fragment,null,this.renderItem())},n}(r.a.PureComponent),E=a("3I2C"),b=a("Wbzz"),v=a("9eSz"),h=a.n(v),w=function(){var e=E.data,t=Object(n.useState)(!1),a=t[0],c=t[1];return r.a.createElement(b.Link,{onClick:function(){return c(!0)},to:"/note/",state:{modal:!0}},a?r.a.createElement(r.a.Fragment,null,r.a.createElement((function(){return r.a.createElement(h.a,{fluid:e.ringRead.childImageSharp.fluid})}),null)):r.a.createElement(r.a.Fragment,null,r.a.createElement((function(){return r.a.createElement(h.a,{fluid:e.ring.childImageSharp.fluid})}),null),r.a.createElement("div",{className:"number"},"3")))};function N(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default=function(){var e=Object(n.useState)([]),t=e[0],a=e[1],c=Object(n.useState)("台北市"),l=c[0],A=c[1],E=Object(n.useState)("中正區"),b=E[0],v=E[1],h=Object(n.useState)(""),k=h[0],C=h[1],j=Object(n.useState)("總數"),I=j[0],R=j[1],S=Object(n.useState)(0),D=S[0],O=S[1],U=Object(n.useState)(5),y=U[0],B=U[1];Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json").then((function(e){return e.json()})).then((function(e){a(e.features.map((function(e){return e})))}))}),[D]),setTimeout((function(){O(D+1)}),12e4);var H=f(t,l+b,I),Y=f(t,l+b+k,I),x=N(new Set(H.map((function(e){var t=(l+b).length;return e.properties.address.substring(t,t+3)}))));return r.a.createElement(d.a,null,r.a.createElement(u.a,{title:"Need Mask"}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container block01"},r.a.createElement("div",{className:"search"},r.a.createElement("p",null,"點擊位置，尋找你/妳的口罩："),r.a.createElement("div",{className:"select-ring-wrap"},r.a.createElement("div",{className:"select-group"},r.a.createElement(m,{placeHolder:!0,current:l,onChange:function(e){A(e),v(i[e][0]),C(""),B(5)},values:Object.keys(i)}),r.a.createElement("span",null),r.a.createElement(m,{placeHolder:!0,current:b,onChange:function(e){v(e),C(""),B(5)},values:i[l]}),r.a.createElement("span",null),r.a.createElement(m,{placeHolder:!0,current:k,onChange:C,values:x})),r.a.createElement("div",{className:"ring-item"},r.a.createElement(w,null))))),r.a.createElement("div",{className:"container block02"},r.a.createElement("div",{className:"sort"},r.a.createElement("div",{className:"sort-item"},r.a.createElement(m,{sm:!0,current:I,onChange:R,values:p})))),r.a.createElement("div",{className:"container block03"},r.a.createElement(o,null)),r.a.createElement("div",{className:"block04"},r.a.createElement("div",{className:"bg"}),r.a.createElement("div",{className:"container item-content-group"},r.a.createElement(g,{data:Y,maxItem:y,step:5,onChange:B,renderItem:function(e,t){return r.a.createElement(s,{key:t,properties:e.properties,coordinates:e.geometry.coordinates})}})))))}}}]);
//# sourceMappingURL=component---src-pages-index-js-3feac19588d4dc89b7ab.js.map